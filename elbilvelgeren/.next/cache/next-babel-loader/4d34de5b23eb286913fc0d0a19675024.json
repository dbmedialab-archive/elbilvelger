{"ast":null,"code":"var _jsxFileName = \"/Users/mariusgrondahl/Documents/GitHub/elbilvelger/elbilvelgeren/pages/elbil.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Navbar from \"../Components/Navbar\";\nimport CarCard from \"../Components/CarCard\";\nimport FlexWrapper from \"../Components/FlexWrapper\";\nimport styled from '@emotion/styled';\nimport elbiler from '../elbiler.json';\nimport Fade from 'react-reveal/Fade';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { withApollo } from \"../lib/apollo\";\nconst Detail = styled.div`\nwidth: 100%;\ndisplay: flex;\nflex-direction: column;\nalign-self: center;  \n`;\nconst ALL_POSTS_QUERY = gql`\n{\n    labrador {\n    article(id: 71564397) {\n      title\n      bodytextHTML\n      imageId\n    }\n  }\n}\n`;\n\nElbilDetail.getInitialProps = async ({\n  req,\n  query\n}) => {\n  let elbilId = Number(query.id);\n  return {\n    elbilId\n  };\n};\n\nfunction ElbilDetail({\n  elbilId\n}) {\n  const {\n    loading,\n    error,\n    data,\n    fetchMore,\n    networkStatus\n  } = useQuery(ALL_POSTS_QUERY, {\n    notifyOnNetworkStatusChange: true\n  }); // Using State Hook\n\n  const {\n    0: articleTitle,\n    1: setTitle\n  } = useState(0);\n  const {\n    0: articleText,\n    1: setText\n  } = useState(1);\n  useEffect(() => {\n    // Update the document title using the browser API\n    setTitle(data.labrador.article.title);\n    setText(data.labrador.article);\n    console.log(articleTitle);\n    console.log(articleText);\n  }); // Filtering out the car that matches the elbilId\n\n  const singleElbil = elbiler.filter(elbil => elbil.id === elbilId);\n\n  const elBiler = __jsx(Fade, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(Detail, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(CarCard, {\n    merke: singleElbil[0].modell,\n    modell: singleElbil[0].merke,\n    type: singleElbil[0].type,\n    rekkevidde: singleElbil[0].rekkevidde,\n    pris: singleElbil[0].pris,\n    bildeURL: singleElbil[0].bildeURL,\n    id: singleElbil[0].id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Sitteplasser: \", singleElbil[0].sitteplasser)));\n\n  return __jsx(FlexWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), elBiler, // Cheks if data is there\n  articleTitle !== \"undefined\" ? __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \" \", articleTitle, \" \") : __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \" Vi har en feil\"));\n}\n\nexport default withApollo(ElbilDetail);","map":{"version":3,"sources":["/Users/mariusgrondahl/Documents/GitHub/elbilvelger/elbilvelgeren/pages/elbil.js"],"names":["React","useState","useEffect","Navbar","CarCard","FlexWrapper","styled","elbiler","Fade","useQuery","gql","withApollo","Detail","div","ALL_POSTS_QUERY","ElbilDetail","getInitialProps","req","query","elbilId","Number","id","loading","error","data","fetchMore","networkStatus","notifyOnNetworkStatusChange","articleTitle","setTitle","articleText","setText","labrador","article","title","console","log","singleElbil","filter","elbil","elBiler","modell","merke","type","rekkevidde","pris","bildeURL","sitteplasser"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from \"../Components/Navbar\";\nimport CarCard from \"../Components/CarCard\";\nimport FlexWrapper from \"../Components/FlexWrapper\"\nimport styled from '@emotion/styled';\n\nimport elbiler from '../elbiler.json';\nimport Fade from 'react-reveal/Fade';\n\nimport { useQuery } from '@apollo/react-hooks'\nimport gql from 'graphql-tag'\nimport { withApollo } from \"../lib/apollo\"\n\nconst Detail = styled.div`\nwidth: 100%;\ndisplay: flex;\nflex-direction: column;\nalign-self: center;  \n`\n\nconst ALL_POSTS_QUERY = gql`\n{\n    labrador {\n    article(id: 71564397) {\n      title\n      bodytextHTML\n      imageId\n    }\n  }\n}\n`\n\nElbilDetail.getInitialProps = async ({req, query}) =>{\n  let elbilId = Number(query.id)\n  return {elbilId};\n}\n\nfunction ElbilDetail({elbilId}) {\n  const { loading, error, data, fetchMore, networkStatus } = useQuery(\n    ALL_POSTS_QUERY,\n    {\n      notifyOnNetworkStatusChange: true\n    }\n  )\n\n  // Using State Hook\n  const [articleTitle, setTitle] = useState(0);\n  const [articleText, setText] = useState(1);\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    setTitle(data.labrador.article.title)\n    setText(data.labrador.article)\n    console.log(articleTitle)\n    console.log(articleText)\n  });\n\n \n\n  // Filtering out the car that matches the elbilId\n  const singleElbil = elbiler.filter (elbil => elbil.id === elbilId)  \n  const elBiler =  \n    <Fade>\n      <Detail>\n      <CarCard \n        merke={singleElbil[0].modell} \n        modell={singleElbil[0].merke}  \n        type={singleElbil[0].type}\n        rekkevidde={singleElbil[0].rekkevidde} \n        pris={singleElbil[0].pris} \n        bildeURL={singleElbil[0].bildeURL}\n        id={singleElbil[0].id}\n    />\n      \n      <h3>Sitteplasser: {singleElbil[0].sitteplasser}</h3>\n    \n      </Detail>\n    </Fade>\n    \n\n    return (\n      <FlexWrapper>\n        <Navbar />\n        {elBiler}\n        { // Cheks if data is there\n        (articleTitle !== \"undefined\")\n          ? <h2> {articleTitle} </h2> \n          : <h1> Vi har en feil</h1> \n        }\n         \n        \n       \n      </FlexWrapper>\n    )\n}\n\nexport default withApollo(ElbilDetail);\n\n\n\n"]},"metadata":{},"sourceType":"module"}