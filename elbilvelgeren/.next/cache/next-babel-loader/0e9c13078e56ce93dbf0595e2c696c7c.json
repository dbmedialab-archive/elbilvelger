{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mariusgrondahl/Documents/GitHub/elbilvelger/elbilvelgeren/pages/elbil.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n{\\n    labrador {\\n    article(id: 71564397) {\\n      title\\n      bodytextHTML\\n      imageId\\n    }\\n  }\\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nwidth: 100%;\\ndisplay: flex;\\nflex-direction: column;\\nalign-self: center;  \\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState, Component } from 'react';\nimport Navbar from \"../Components/Navbar\";\nimport CarCard from \"../Components/CarCard\";\nimport FlexWrapper from \"../Components/FlexWrapper\";\nimport styled from '@emotion/styled';\nimport elbiler from '../elbiler.json';\nimport Fade from 'react-reveal/Fade';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { withApollo } from \"../lib/apollo\";\n\nvar elbilDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(elbilDetail, _Component);\n\n  function elbilDetail() {\n    _classCallCheck(this, elbilDetail);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(elbilDetail).apply(this, arguments));\n  }\n\n  _createClass(elbilDetail, [{\n    key: \"render\",\n    value: function render() {}\n  }]);\n\n  return elbilDetail;\n}(Component);\n\nvar Detail = styled.div(_templateObject());\nvar ALL_POSTS_QUERY = gql(_templateObject2());\n\nElbilDetail.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var req, url, parameter, elbilId;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref.req;\n            url = '';\n\n            if (true) {\n              url = window.location.href;\n            } else {\n              url = req.url;\n            }\n\n            parameter = url.split(\"=\"); // Getting the id from the second part of the URL\n\n            elbilId = Number(parameter[1]); // Returning elbilId to the id from Params\n\n            return _context.abrupt(\"return\", {\n              elbilId: elbilId\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nfunction ElbilDetail(_ref3) {\n  var elbilId = _ref3.elbilId;\n\n  var _useQuery = useQuery(ALL_POSTS_QUERY, {\n    notifyOnNetworkStatusChange: true\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data,\n      fetchMore = _useQuery.fetchMore,\n      networkStatus = _useQuery.networkStatus; // Using effect to \n\n\n  useEffect(function () {\n    console.log(\"Component before \"); // returned function will be called on component unmount \n\n    return function () {\n      console.log(\"Component umount\");\n    };\n  }, console.log(\"Siste call 1 gang\"));\n\n  var articleData = _JSON$stringify(data); // Filtering out the car that matches the elbilId\n\n\n  var singleElbil = elbiler.filter(function (elbil) {\n    return elbil.id === elbilId;\n  });\n\n  var elBiler = __jsx(Fade, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(Detail, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(CarCard, {\n    merke: singleElbil[0].modell,\n    modell: singleElbil[0].merke,\n    type: singleElbil[0].type,\n    rekkevidde: singleElbil[0].rekkevidde,\n    pris: singleElbil[0].pris,\n    bildeURL: singleElbil[0].bildeURL,\n    id: singleElbil[0].id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Sitteplasser: \", singleElbil[0].sitteplasser), articleData));\n\n  return __jsx(FlexWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), elBiler);\n}\n\nexport default withApollo(ElbilDetail);","map":{"version":3,"sources":["/Users/mariusgrondahl/Documents/GitHub/elbilvelger/elbilvelgeren/pages/elbil.js"],"names":["React","useEffect","useState","Component","Navbar","CarCard","FlexWrapper","styled","elbiler","Fade","useQuery","gql","withApollo","elbilDetail","Detail","div","ALL_POSTS_QUERY","ElbilDetail","getInitialProps","req","url","window","location","href","parameter","split","elbilId","Number","notifyOnNetworkStatusChange","loading","error","data","fetchMore","networkStatus","console","log","articleData","singleElbil","filter","elbil","id","elBiler","modell","merke","type","rekkevidde","pris","bildeURL","sitteplasser"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Component } from 'react';\nimport Navbar from \"../Components/Navbar\";\nimport CarCard from \"../Components/CarCard\";\nimport FlexWrapper from \"../Components/FlexWrapper\"\nimport styled from '@emotion/styled';\n\nimport elbiler from '../elbiler.json';\nimport Fade from 'react-reveal/Fade';\n\nimport { useQuery } from '@apollo/react-hooks'\nimport gql from 'graphql-tag'\nimport { withApollo } from \"../lib/apollo\"\n\n\nclass elbilDetail extends Component {\nrender() {\n\n}\n}\n\n\n\nconst Detail = styled.div`\nwidth: 100%;\ndisplay: flex;\nflex-direction: column;\nalign-self: center;  \n`\nconst ALL_POSTS_QUERY = gql`\n{\n    labrador {\n    article(id: 71564397) {\n      title\n      bodytextHTML\n      imageId\n    }\n  }\n}\n`\nElbilDetail.getInitialProps = async ({req}) =>{\n  let url = ''\n  if (typeof window !== \"undefined\") {\n    url = window.location.href\n  } else {\n    url = req.url\n  }\n  \n  let parameter = url.split(\"=\")\n  // Getting the id from the second part of the URL\n  let elbilId = Number(parameter[1])\n  // Returning elbilId to the id from Params\n  return {elbilId};\n}\n\nfunction ElbilDetail({elbilId}) {\n  const { loading, error, data, fetchMore, networkStatus } = useQuery(\n    ALL_POSTS_QUERY,\n    {\n      notifyOnNetworkStatusChange: true\n    }\n  )\n\n  // Using effect to \n  useEffect(() => {\n    console.log(\"Component before \");\n    // returned function will be called on component unmount \n    return () => {\n      console.log(\"Component umount\");\n    }\n  }, console.log(\"Siste call 1 gang\"))\n\n\n  const articleData = JSON.stringify(data)\n\n  // Filtering out the car that matches the elbilId\n  const singleElbil = elbiler.filter (elbil => elbil.id === elbilId)  \n  const elBiler =  \n    <Fade>\n      <Detail>\n      <CarCard \n        merke={singleElbil[0].modell} \n        modell={singleElbil[0].merke}  \n        type={singleElbil[0].type}\n        rekkevidde={singleElbil[0].rekkevidde} \n        pris={singleElbil[0].pris} \n        bildeURL={singleElbil[0].bildeURL}\n        id={singleElbil[0].id}\n    />\n      <h3>Sitteplasser: {singleElbil[0].sitteplasser}</h3>\n      {articleData}\n      </Detail>\n    </Fade>\n    \n\n    return (\n      <FlexWrapper>\n        <Navbar />\n        {elBiler}\n      </FlexWrapper>\n    )\n}\n\nexport default withApollo(ElbilDetail);\n\n\n\n"]},"metadata":{},"sourceType":"module"}